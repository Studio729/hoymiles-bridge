# Hoymiles MQTT Configuration Example
# Copy this file to .env and adjust the values

# ===== MQTT Configuration =====
MQTT_BROKER=mosquitto
MQTT_PORT=1883
MQTT_USER=
MQTT_PASSWORD=
MQTT_TLS=false
MQTT_CLIENT_ID=hoymiles-mqtt
MQTT_TOPIC_PREFIX=homeassistant

# ===== DTU Configuration (Single DTU Mode) =====
DTU_HOST=192.168.1.100
DTU_PORT=502
MODBUS_UNIT_ID=1

# ===== Modbus Communication =====
COMM_TIMEOUT=3
COMM_RETRIES=3
COMM_RECONNECT_DELAY=0
COMM_RECONNECT_DELAY_MAX=300

# ===== Timing Configuration =====
QUERY_PERIOD=60
EXPIRE_AFTER=0
RESET_HOUR=23
TIMEZONE=UTC

# ===== Persistence =====
PERSISTENCE_ENABLED=true
DATABASE_PATH=/data/hoymiles-mqtt.db

# ===== Web Server / Health Monitoring =====
# Web server provides health checks, metrics, and statistics
# Endpoints: /health, /ready, /metrics, /stats
HEALTH_ENABLED=true
HEALTH_HOST=0.0.0.0
HEALTH_PORT=8080              # Port for web server (change if 8080 conflicts)
METRICS_ENABLED=true

# ===== Logging =====
LOG_LEVEL=INFO
LOG_FORMAT=standard
LOG_TO_CONSOLE=true
